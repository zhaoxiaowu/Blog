 能做索引的数据结构有哪些？数组、链表、哈希、红黑树、B树（B-树、B+树）



为什么不能用哈希 ？

hash函数会计算一个hash值，不能范围查找

联合索引：hash(id+name) = key =>如果我只传了id不能支持部分索引查询

O（1）:什么情况可以使用hash索引？就是查询条件不会变，而且没有部分查询也没有范围查询



为什么不用红黑树？

磁盘一页（16K） 内存和磁盘是以页为交换的

1.读取磁盘的次数过多

2.读取浪费过多

那为什可以在hashmap中查找？ 内存



N叉树（B树）

多叉 层数低 解决读取次数多

每个节点多存  读取浪费 



B树：B-Tree ,B+Tree  (N叉的排序树)

M阶的BTree的特性：

1.节点最多包含m个子树（指针 ），m-1个关键字

2.除根节点 和 叶子节点外，其它每个结点至少有ceil（m/2）个子节点，ceil为向上取整

分裂的时候从中间分开，分成两棵子树

3.若根节点不是叶子节点，则至少有两棵树

不满足以上性质？  分裂



索引    范围查找 加  数据



B+树（ 范围查找 减少IO）

1.叶子节点连接起来  

2.非叶子节点不存数据

3.数据和节点一样多

阶 怎么算  根据磁盘节大小 字段大小



联合索引  最左  根据最左 建立索引1

索引最左原则

![image-20200512160705761](..\images\image-20200512160705761.png)

我们先通过index查找到数据对应的rowid值(对于非唯一索引可能返回多个rowid值)，然后根据rowid直接从表中得到具体的数据，这种查找方式称为索引扫描或索引查找(index lookup)。一个rowid唯一的表示一行数据，该行对应的数据块是通过一次i/o得到的，在此情况下该次i/o只会读取一个[数据库](http://www.2cto.com/database/)块。